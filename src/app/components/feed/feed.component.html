<cdk-virtual-scroll-viewport
  appendOnly
  itemSize="200"
  class="viewport"
>
  <div
    class="post-wrapper"
    *cdkVirtualFor="let post of posts; trackBy: identify"
  >
    <app-post
      [post]="post"
      [comments]="getCommentsForPost$(post.id) | async"
      [commentsPending]="getCommentsForPostPending$(post.id) | async"
    ></app-post>
  </div>
  <mat-progress-bar
    *ngIf="postsPending"
    mode="indeterminate"
  ></mat-progress-bar>
</cdk-virtual-scroll-viewport>
